#! /bin/bash

commit(){
  echo "[ğŸ¤–] $1 $2"
  eval git commit -m \"$1 $2\"
}

showAllCommand(){
  echo "==================="
  echo "âœ¨ Avaible Emoji âœ¨"
  echo "==================="
  echo ""
  declare -i index=1
  for i in "${!emt[@]}"
  do
    key=$i
    value=${emt[$key]}
    echo "${index}.${key} => ${value}"
    index+=1
  done
  
  printf "\n" 
  echo "ğŸ“Example:"
  echo 'ğŸ‘‰ $ bmit new "hello world"'
}

declare -A emt
emt['new']='âœ¨ NEW:'
emt['fix']='ğŸ›  FIX:'
emt['update']='ğŸ”¨ UPDATE:'
emt['doc']='ğŸ“ DOC:'
emt['merge']='ğŸ”€ MERGE:'
emt['down']='â¬ DOWN:'
emt['up']='â« UP:'
emt['package']='ğŸ“¦ PACKAGE:'
emt['working']='ğŸš§ WORKING:'

#check aditional comand
case $1 in
  help)
    showAllCommand
    exit 0
  ;;
esac 

# check if command is availeble in $emt
if [ -v emt["$1"] ]; then
  commit ${emt["$1"]} "$2"
  exit 0
else
  echo "[ğŸ¤–] error, command $1 not found, try to use '$ bmit help'"
  exit 1
fi

